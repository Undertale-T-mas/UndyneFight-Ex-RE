using Extends;
using Microsoft.Xna.Framework;
using System;
using System.Collections.Generic;
using UndyneFight_Ex.Entities;
using UndyneFight_Ex.SongSystem;
using static Extends.DrawingUtil;
using static Extends.Someway;
using static UndyneFight_Ex.Fight.Functions;
using static UndyneFight_Ex.Fight.Functions.ScreenDrawing;
using static UndyneFight_Ex.FightResources;
using static UndyneFight_Ex.MathUtil;
namespace Rhythm_Recall.Waves
{
    public class Resistance : WaveConstructor, IWaveSet
    {
        public static bool linebool = true;
        private class ThisInformation : SongInformation
        {
            public override string BarrageAuthor => "Tlottgodinf";
            public override string SongAuthor => "bl2";
            public override string PaintAuthor => "Thedeathbones";
            public override string AttributeAuthor => "Tlottgodinf";
            public override Dictionary<Difficulty, float> CompleteDifficulty => new(
                    new KeyValuePair<Difficulty, float>[] {
                            new(Difficulty.Extreme, 17.9f),
                            new(Difficulty.Hard, 14.0f),
                            new(Difficulty.Normal, 12.9f),
                            new(Difficulty.Easy, 6.0f),
                            new(Difficulty.Noob, 3.0f),
                    }
                );
            public override Dictionary<Difficulty, float> ComplexDifficulty => new(
                    new KeyValuePair<Difficulty, float>[] {
                            new(Difficulty.Extreme, 17.9f),
                            new(Difficulty.Hard, 14.0f),
                            new(Difficulty.Normal, 12.9f),
                            new(Difficulty.Easy, 6.0f),
                            new(Difficulty.Noob, 3.0f),
                    }
                );
            public override Dictionary<Difficulty, float> APDifficulty => new(
                    new KeyValuePair<Difficulty, float>[] {
                            new(Difficulty.Extreme, 20.9f),
                            new(Difficulty.Hard, 19.0f),
                            new(Difficulty.Normal, 18.0f),
                            new(Difficulty.Easy, 9.0f),
                            new(Difficulty.Noob, 6.0f),
                    }
                );
        }
        public SongInformation Attributes => new ThisInformation();
        public Resistance() : base(62.5f / (130 / 60f)) { }
        public static Resistance instance;

        public string Music => "The Last Resistance";
        public string FightName => "The Last Resistance";
        public static float bpm = 62.5f / (130 / 60f);



        #region Non
        public void ExtremePlus()
        {

        }
        #endregion
        public void Start()
        {
            GametimeDelta = -9.5f;
            Heart.SoftFalling = true;
            InstantSetBox(240, 84, 84);
            SetSoul(1);
            InstantTP(320, 240);
            HeartAttribute.Speed = 3;
            HeartAttribute.KRDamage = 4f;
            HeartAttribute.MaxHP = 96;
            HeartAttribute.KR = true;
        }

        public void Noob()
        {
            if (InBeat(0)) HeartAttribute.JumpTimeLimit = 1;
            if (InBeat(0)) SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "(+0)(+0)","+0","+0","+0",   "+0","+0","+0","+0",
                //


                "move3","R","/","/","/",
                "R","/","/","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "+0","/","/","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "+0","/","/","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "+0","/","/","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "(R)(+0)","+0","+0","+0",

                "+0","+0","+0","+0",  "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",

                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",

                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",

                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                //


                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",

                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",

                "/","/","/","/",   "heart1","/","/","/","/",
                "/","/","/","/",   "heart2","/","/","/","/",
                "/","/","/","/",   "heart3","/","/","/","/",
                "/","/","/","/",   "heart4","/","/","/","/",

                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
                "/","/","/","/",   "(R)","/","/","/",
            },
            new string[] { "move1", "move2", "move3", "heart1", "heart2", "heart3", "heart4" },
            new Action[] {
                ()=>{ LerpGreenBox(bpm * 4, new(260, 240), 0.085f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{ LerpGreenBox(bpm * 4, new(380, 240), 0.085f); NormalLine line=new(new(640,240),new(BoxStates.Right-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90);},
                ()=>{ LerpGreenBox(bpm * 4, new(320, 240), 0.072f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); NormalLine line1=new(new(640,240),new(BoxStates.Right-2,240),bpm*16,0,new(195,31,255));CreateTagLine(line1,"a");ForBeat(4,()=>{line1.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line1,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(90);LerpScreenScale(bpm,1.2f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(180);LerpScreenScale(bpm,1.5f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(270);LerpScreenScale(bpm,1.8f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(0);LerpScreenScale(bpm*2,1,0.09f);ScreenPositionDelta=new(0,0); },
            });
            if (InBeat(20 * 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
                "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
               "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
               "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //


                "Soul1","Bone4","/","/","/","/",    "/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone4","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Soul2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

            },
            new string[] { "start", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "Soul1", "Bone3", "Boxshake", "Bone4", "Bone5", "Soul2", "gb1", },
            new Action[] {
                ()=>{
                    Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });

                },
                ()=>{
                    Heart.GiveForce(0,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{ SetSoul(0);
                    LerpScreenScale(bpm*4,1,0.09f);
                    SetBox(280,180,120);
                    Heart.GiveForce(0,0);
                    LerpScreenPos(bpm*2,new(0,0),0.09f);
                    ForBeat(2,14,()=>{
                    });
                },
                ()=>{PlaySound(Sounds.pierce); CreateBone(new DownBone(true,2.5f,60));CreateBone(new UpBone(false,2.5f,60)); },
                ()=>{float sin=1;
                    ForBeat(2f,()=>{
                        sin-=1/bpm; InstantSetBox(BoxStates.Centre,BoxStates.Width,120+sin*sin*sin*sin*(-70)+70);
                    });},
                ()=>{PlaySound(Sounds.pierce);},
                ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),150,150); },
                ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); }
            });
            if (InBeat(36 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
             new string[]
            {
                "Soul1","/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+0","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","+0","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",

                "WR08","gb1","/","/","/","/",   "/","/","/","/",
                "gb2","/","/","/","/",   "/","/","/","/",
                "WR08","gb3","/","/","/","/",   "/","/","/","/",
                "gb4","/","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+0","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","+0","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R","/",
                "+0","/","/","/",   "R","/","/","/",

                "WR18","gb1","/","/","/","/",   "/","/","/","/",
                "gb2","/","/","/","/",   "/","/","/","/",
                "WR18","gb3","/","/","/","/",   "/","/","/","/",
                "gb4","/","/","Black","/","/",   "/","/","/","/",
                //

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //

                "($0)","/","/","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","/","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","/","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","/","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","/","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","/","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","/","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","/","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "(R)","/","/","/",
                "$0","/","$0","/",   "$0","/","$0","/",
                //

            },
             new string[] { "Soul1", "gb1", "gb2", "gb3", "gb4", "P1", "P2", "Black", "P3", "Particle" },
             new Action[] {
             ()=>{SetSoul(1);SetBox(new Vector2(320,240),84,84);TP(); LerpScreenScale(bpm*2,1,0.09f); },
             ()=>{
                 SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
             },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(-12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
               },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1f,0.09f);
                 CameraEffect.RotateTo(0,bpm+2);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{ResetBarrage(); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {

                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             });
            if (InBeat(60 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
                    new string[]
                    {
                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G3032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G3032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G3032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G1032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",

                        "G3032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                        "Soul2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                 "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
                "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
               "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
               "OBone2","/","/","/","/",   "/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "/","/","/","/",
                "OBone1","/","/","/","/",   "/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                //
                "centre","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",  "/","/","blue","/","/",
                "/","/","/","/",   "blue","/","/","/","/",
                "blue","/","/","/","/",  "/","/","blue","/","/",
                "/","/","/","/",   "blue","/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",  "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Back","blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "Black","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Final","R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                        },
                    new string[] { "Bone5", "Soul2", "gb1", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "start", "blue", "orange", "centre", "Back", "P1", "P2", "Black", "P3", "Particle", "Final" },
                    new Action[] {
                        ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                        ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120);SetSoul(0);float sin=0;ForBeat(32,()=>{sin+=360/bpm/8;ScreenDrawing.ScreenAngle=Sin(sin)*20f; }); },
                        ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); },
                        ()=>{
                    Heart.GiveForce(0,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                        ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{
                            ScreenDrawing.ScreenAngle=0;
                            Heart.GiveForce(0,4);
                             CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f);
                        },
                        ()=>{CreateBone(new DownBone(true,1,144){ ColorType=1}); PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(false,1,144){ ColorType=2}); PlaySound(Sounds.pierce); },
                        ()=>{SetBox(240,150,150);SetSoul(0);DelayBeat(2,()=>{for(int a=0;a<18;a++)CreateBone(new SideCircleBone(a*20,1f,20,bpm*30)); }); LerpScreenPos(bpm*2,new(0,0),0.09f);LerpScreenScale(bpm*2,1,0.09f);CameraEffect.Rotate180(bpm*4f); PlaySound(Sounds.pierce); },
                        ()=>{CameraEffect.Rotate180(bpm*4f); },
                        ()=>{Heart.GiveForce(0,0);SetSoul(1); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             ()=>{ScreenDrawing.ScreenAngle=0;Heart.GiveForce(0,0); }
                    });
        }

        public void Easy()
        {
            if (InBeat(0)) HeartAttribute.JumpTimeLimit = 1;
            //CreateEntity(new UndyneFight_Ex.Fight.TextPrinter(1, "$$Entities:" + "$" + (GetAll<Entity>().Length - 9).ToString(), new(0, 240), new UndyneFight_Ex.Fight.TextAttribute[] { new UndyneFight_Ex.Fight.TextSpeedAttribute(114), new UndyneFight_Ex.Fight.TextSizeAttribute(0.7f), new UndyneFight_Ex.Fight.TextColorAttribute(Color.Cyan) }) { sound = false });
            if (InBeat(0)) SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","+0","/",
                "!(+0)(+0)","!+0","!+0","!+0",   "!+0","!+0","!+0","!+0",
                //


                "move3","R","/","/","/",
                "R","/","+0","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+0","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "R","/","+0","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+0","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "R","/","+0","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+0","/",   "(R)","/","/","/",

                "move3","(+0)","/","/","/",  "/","/","R","/",
                "R","/","+0","/",   "+0","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+0","/",   "!(R)(+0)","!+0","!+0","!+0",

                "!+0","!+0","!+0","!+0",  "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                //


                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "heart1","/","/","/","/",
                "/","/","/","/",   "heart2","/","/","/","/",
                "/","/","/","/",   "heart3","/","/","/","/",
                "/","/","/","/",   "heart4","/","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
            },
            new string[] { "move1", "move2", "move3", "heart1", "heart2", "heart3", "heart4" },
            new Action[] {
                ()=>{ LerpGreenBox(bpm * 4, new(260, 240), 0.085f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{ LerpGreenBox(bpm * 4, new(380, 240), 0.085f); NormalLine line=new(new(640,240),new(BoxStates.Right-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90);},
                ()=>{ LerpGreenBox(bpm * 4, new(320, 240), 0.072f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); NormalLine line1=new(new(640,240),new(BoxStates.Right-2,240),bpm*16,0,new(195,31,255));CreateTagLine(line1,"a");ForBeat(4,()=>{line1.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line1,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(90);LerpScreenScale(bpm,1.2f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(180);LerpScreenScale(bpm,1.5f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(270);LerpScreenScale(bpm,1.8f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(0);LerpScreenScale(bpm*2,1,0.09f);ScreenPositionDelta=new(0,0); },
            });
            if (InBeat(20 * 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",
                //


                "Soul1","Bone4","/","/","/","/",    "/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone4","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Soul2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

            },
            new string[] { "start", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "Soul1", "Bone3", "Boxshake", "Bone4", "Bone5", "Soul2", "gb1", },
            new Action[] {
                ()=>{
                    Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });

                },
                ()=>{
                    Heart.GiveForce(0,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{ SetSoul(0);
                    LerpScreenScale(bpm*4,1,0.09f);
                    SetBox(280,180,120);
                    Heart.GiveForce(0,0);
                    LerpScreenPos(bpm*2,new(0,0),0.09f);
                    ForBeat(2,14,()=>{
                    });
                },
                ()=>{PlaySound(Sounds.pierce); CreateBone(new DownBone(true,2.5f,60));CreateBone(new UpBone(false,2.5f,60)); },
                ()=>{float sin=1;
                    ForBeat(2f,()=>{
                        sin-=1/bpm; InstantSetBox(BoxStates.Centre,BoxStates.Width,120+sin*sin*sin*sin*(-70)+70);
                    });},
                ()=>{PlaySound(Sounds.pierce);},
                ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),150,150); },
                ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); }
            });
            if (InBeat(36 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
             new string[]
            {
                "Soul1","/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+0","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","+0","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "WR08","gb1","/","/","/","/",   "/","/","/","/",
                "gb2","/","/","/","/",   "/","/","/","/",
                "WR08","gb3","/","/","/","/",   "/","/","/","/",
                "gb4","/","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+0","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "R","/","+0","/",
                "R","/","/","/",   "R","/","+0","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "WR18","gb1","/","/","/","/",   "/","/","/","/",
                "gb2","/","/","/","/",   "/","/","/","/",
                "WR18","gb3","/","/","/","/",   "/","/","/","/",
                "gb4","/","/","Black","/","/",   "/","/","/","/",
                //

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //

                "($0)","/","$0","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","$2","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","$0","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","$2","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","$0","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","$2","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","+0","/",   "R","/","+0","/",

                "($0)","/","$0","/",   "G004","/","/","/","/",
                "($0)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)","/","$2","/",   "G204","/","/","/","/",
                "($2)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "$0","/","$0","/",   "$0","/","$0","/",
                //

            },
             new string[] { "Soul1", "gb1", "gb2", "gb3", "gb4", "P1", "P2", "Black", "P3", "Particle" },
             new Action[] {
             ()=>{SetSoul(1);SetBox(new Vector2(320,240),84,84);TP(); LerpScreenScale(bpm*2,1,0.09f); },
             ()=>{
                 SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
             },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(-12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
               },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1f,0.09f);
                 CameraEffect.RotateTo(0,bpm+2);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{ResetBarrage(); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {

                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             });
            if (InBeat(60 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
                    new string[]
                    {
                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","/","/","/","/",   "/","/","/","/",

                        "G1032","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "($1)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "($3)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                        "Soul2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                 "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                  "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                        "gb1","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                   "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "OBone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "OBone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                //
                "centre","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",
                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",  "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Back","blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "Black","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Final","R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                        },
                    new string[] { "Bone5", "Soul2", "gb1", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "start", "blue", "orange", "centre", "Back", "P1", "P2", "Black", "P3", "Particle", "Final" },
                    new Action[] {
                        ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                        ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120);SetSoul(0);float sin=0;ForBeat(32,()=>{sin+=360/bpm/8;ScreenDrawing.ScreenAngle=Sin(sin)*20f; }); },
                        ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); },
                        ()=>{
                    Heart.GiveForce(0,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                        ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{
                            ScreenDrawing.ScreenAngle=0;
                            Heart.GiveForce(0,4);
                             CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f);
                        },
                        ()=>{CreateBone(new DownBone(true,1,144){ ColorType=1}); PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(false,1,144){ ColorType=2}); PlaySound(Sounds.pierce); },
                        ()=>{SetBox(240,150,150);SetSoul(0);DelayBeat(2,()=>{for(int a=0;a<18;a++)CreateBone(new SideCircleBone(a*20,1f,20,bpm*30)); }); LerpScreenPos(bpm*2,new(0,0),0.09f);LerpScreenScale(bpm*2,1,0.09f);CameraEffect.Rotate180(bpm*4f); PlaySound(Sounds.pierce); },
                        ()=>{CameraEffect.Rotate180(bpm*4f); },
                        ()=>{Heart.GiveForce(0,0);SetSoul(1); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             ()=>{ScreenDrawing.ScreenAngle=0;Heart.GiveForce(0,0); }
                    });
        }

        public void Normal()
        {
            if (InBeat(0)) HeartAttribute.JumpTimeLimit = 1;
            // CreateEntity(new UndyneFight_Ex.Fight.TextPrinter(1, "$$Entities:" + "$" + (GetAll<Entity>().Length - 9).ToString(), new(0, 240), new UndyneFight_Ex.Fight.TextAttribute[] { new UndyneFight_Ex.Fight.TextSpeedAttribute(114), new UndyneFight_Ex.Fight.TextSizeAttribute(0.7f), new UndyneFight_Ex.Fight.TextColorAttribute(Color.Cyan) }) { sound = false });
            if (InBeat(0)) SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move1","$0","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move2","$2","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(+01)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(+01)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R1","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(+01)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R1","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(+01)","/","/","/",   "R","/","R","/",
                "!(R)(+0)","!+0","!+0","!+0",   "!+0","!+0","!+0","!+0",
                //


                "move3","R","/","/","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+01)","/","/","/",

                "move3","(+0)(+01)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+01)","/","/","/",

                "move3","(+0)(+01)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+01)","/","/","/",

                "move3","(+0)(+01)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "!(R)(+0)","!+0","!+0","!+0",

                "!+0","!+0","!+0","!+0",  "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                //


                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",

                "/","/","/","/",   "heart1","/","/","/","/",
                "/","/","/","/",   "heart2","/","/","/","/",
                "/","/","/","/",   "heart3","/","/","/","/",
                "/","/","/","/",   "heart4","/","/","/","/",

                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
                "/","/","/","/",   "@(R)","/","/","/",
            },
            new string[] { "move1", "move2", "move3", "heart1", "heart2", "heart3", "heart4" },
            new Action[] {
                ()=>{ LerpGreenBox(bpm * 4, new(260, 240), 0.085f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{ LerpGreenBox(bpm * 4, new(380, 240), 0.085f); NormalLine line=new(new(640,240),new(BoxStates.Right-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90);},
                ()=>{ LerpGreenBox(bpm * 4, new(320, 240), 0.072f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); NormalLine line1=new(new(640,240),new(BoxStates.Right-2,240),bpm*16,0,new(195,31,255));CreateTagLine(line1,"a");ForBeat(4,()=>{line1.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line1,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(90);LerpScreenScale(bpm,1.2f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(180);LerpScreenScale(bpm,1.5f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(270);LerpScreenScale(bpm,1.8f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(0);LerpScreenScale(bpm*2,1,0.09f);ScreenPositionDelta=new(0,0); },
            });
            if (InBeat(20 * 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",
                //


                "Soul1","Bone4","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone4","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone4","/","/","/","/",   "/","/","/","/",
                "Bone4" ,"/","/","/","/",   "/","/","/","/",

                "Soul2","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

            },
            new string[] { "start", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "Soul1", "Bone3", "Boxshake", "Bone4", "Bone5", "Soul2", "gb1", },
            new Action[] {
                ()=>{
                    Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });

                },

                ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{ SetSoul(0);
                    LerpScreenScale(bpm*4,1,0.09f);
                    SetBox(280,180,120);
                    Heart.GiveForce(0,0);
                    LerpScreenPos(bpm*2,new(0,0),0.09f);
                    ForBeat(2,14,()=>{
                    });
                },
                ()=>{PlaySound(Sounds.pierce); CreateBone(new CustomBone(new(320+170,280),Motions.PositionRoute.linear,0,120){PositionRouteParam=new float[]{ -2.5f,0} }); },
                ()=>{float sin=1;
                    ForBeat(2f,()=>{
                        sin-=1/bpm; InstantSetBox(BoxStates.Centre,BoxStates.Width,120+sin*sin*sin*sin*(-70)+70);
                    });},
                ()=>{PlaySound(Sounds.pierce);},
                ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),150,150); },
                ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); }
            });
            if (InBeat(36 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
             new string[]
            {
                "Soul1","/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","R","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","R","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR08","gb1","/","/","/","/",   "/","/","/","/",
                "WR08","gb2","/","/","/","/",   "/","/","/","/",
                "WR08","gb3","/","/","/","/",   "/","/","/","/",
                "WR08","gb4","/","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","R","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","R","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR18","gb1","/","/","/","/",   "/","/","/","/",
                "WR18","gb2","/","/","/","/",   "/","/","/","/",
                "WR18","gb3","/","/","/","/",   "/","/","/","/",
                "WR18","gb4","/","/","Black","/","/",   "/","/","/","/",
                //

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //

                "($0)(+01)","/","$0","/",   "G004","/","/","/","/",
                "($0)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)(+01)","/","$2","/",   "G204","/","/","/","/",
                "($2)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "($0)(+01)","/","$0","/",   "G004","/","/","/","/",
                "($0)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)(+01)","/","$2","/",   "G204","/","/","/","/",
                "($2)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "($0)(+01)","/","$0","/",   "G004","/","/","/","/",
                "($0)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)(+01)","/","$2","/",   "G204","/","/","/","/",
                "($2)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "($0)(+01)","/","$0","/",   "G004","/","/","/","/",
                "($0)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "(+2)","/","/","/",   "R","/","/","/",

                "($2)(+01)","/","$2","/",   "G204","/","/","/","/",
                "($2)(+01)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)","/","/","/",
                "$0","/","$0","/",   "$0","/","$0","/",
                //

            },
             new string[] { "Soul1", "gb1", "gb2", "gb3", "gb4", "P1", "P2", "Black", "P3", "Particle" },
             new Action[] {
             ()=>{SetSoul(1);SetBox(new Vector2(320,240),84,84);TP(); LerpScreenScale(bpm*2,1,0.09f); },
             ()=>{
                 SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
             },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(-12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
               },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1f,0.09f);
                 CameraEffect.RotateTo(0,bpm+2);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{ResetBarrage(); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {

                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             });
            if (InBeat(60 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
                    new string[]
                    {
                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G1032","/","/","/","/",   "/","/","/","/",
                        "($11)(+01)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "($21)(+01)","/","/","/",   "($1)","/","/","/",

                        "G3032","($3)","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "Soul2","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                        "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                  "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                   "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                        "gb1","/","/","/","/",   "/","/","/","/",
                        "gb1","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                   "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                //
                "centre","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",
                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",  "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Back","blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "Black","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Final","R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                        },
                    new string[] { "Bone5", "Soul2", "gb1", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "start", "blue", "orange", "centre", "Back", "P1", "P2", "Black", "P3", "Particle", "Final" },
                    new Action[] {
                        ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                        ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120);SetSoul(0);float sin=0;ForBeat(32,()=>{sin+=360/bpm/8;ScreenDrawing.ScreenAngle=Sin(sin)*20f; }); },
                        ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*3f,bpm*0.25f)); },
                        ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                ()=>{
                    Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                     CreateEntity(new Platform(0,new(BoxStates.Right+bpm*5,BoxStates.Centre.Y+4),Motions.PositionRoute.linear,180,45){ PositionRouteParam=new float[]{-3,0 } });
                },
                        ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{
                            ScreenDrawing.ScreenAngle=0;
                            Heart.GiveForce(0,4);
                             CreateEntity(new Platform(0,new(320+100+bpm*5,280-4),Motions.PositionRoute.linear,0,45){ PositionRouteParam=new float[]{-3,0 } });
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f);
                        },
                        ()=>{CreateBone(new DownBone(true,1,144){ ColorType=1}); PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(false,1,144){ ColorType=2}); PlaySound(Sounds.pierce); },
                        ()=>{SetBox(240,150,150);SetSoul(0);CreateBone(new CentreCircleBone(50,1f,130,bpm*32));DelayBeat(2,()=>{for(int a=0;a<18;a++)CreateBone(new SideCircleBone(a*20,1f,20,bpm*30)); }); LerpScreenPos(bpm*2,new(0,0),0.09f);LerpScreenScale(bpm*2,1,0.09f);CameraEffect.Rotate180(bpm*4f); PlaySound(Sounds.pierce); },
                        ()=>{CameraEffect.Rotate180(bpm*4f); },
                        ()=>{Heart.GiveForce(0,0);SetSoul(1); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             ()=>{ScreenDrawing.ScreenAngle=0;Heart.GiveForce(0,0); }
                    });


        }

        public void Hard()
        {
            if (InBeat(0)) HeartAttribute.JumpTimeLimit = 1;
            //CreateEntity(new UndyneFight_Ex.Fight.TextPrinter(1, "$$Entities:" + "$" + (GetAll<Entity>().Length - 9).ToString(), new(0, 240), new UndyneFight_Ex.Fight.TextAttribute[] { new UndyneFight_Ex.Fight.TextSpeedAttribute(114), new UndyneFight_Ex.Fight.TextSizeAttribute(0.7f), new UndyneFight_Ex.Fight.TextColorAttribute(Color.Cyan) }) { sound = false });
            if (InBeat(0)) SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "move1","$0","$0","$0","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move2","$2","$2","$2","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move1","$0","$0","$0","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move2","$2","$2","$2","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R1","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","R1","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R","/","R","/",
                "!(R)(+0)","!+0","!+0","!+0",   "!+0","!+0","!+0","!+0",
                //


                "move3","R","/","/","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+21)","/","/","/",

                "move3","(+2)(+21)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+21)","/","/","/",

                "move3","(+2)(+21)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "(R)(+21)","/","/","/",

                "move3","(+2)(+21)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","R","/",   "!(R)(+0)","!+0","!+0","!+0",

                "!+0","!+0","!+0","!+0",  "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                //


                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "heart1","/","/","/","/",
                "/","/","/","/",   "heart2","/","/","/","/",
                "/","/","/","/",   "heart3","/","/","/","/",
                "/","/","/","/",   "heart4","/","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
            },
            new string[] { "move1", "move2", "move3", "heart1", "heart2", "heart3", "heart4" },
            new Action[] {
                ()=>{ LerpGreenBox(bpm * 4, new(260, 240), 0.085f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{ LerpGreenBox(bpm * 4, new(380, 240), 0.085f); NormalLine line=new(new(640,240),new(BoxStates.Right-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90);},
                ()=>{ LerpGreenBox(bpm * 4, new(320, 240), 0.072f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); NormalLine line1=new(new(640,240),new(BoxStates.Right-2,240),bpm*16,0,new(195,31,255));CreateTagLine(line1,"a");ForBeat(4,()=>{line1.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line1,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(90);LerpScreenScale(bpm,1.2f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(180);LerpScreenScale(bpm,1.5f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(270);LerpScreenScale(bpm,1.8f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(0);LerpScreenScale(bpm*2,1,0.09f);ScreenPositionDelta=new(0,0); },
            });
            if (InBeat(20 * 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",
                //


                "Soul1","Bone4","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone4","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone4","/","/","/","/",   "Bone4" ,"/","/","/","/",
                "Bone4" ,"/","/","/","/",   "/","/","/","/",

                "Soul2","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

            },
            new string[] { "start", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "Soul1", "Bone3", "Boxshake", "Bone4", "Bone5", "Soul2", "gb1", },
            new Action[] {
                ()=>{
                    Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f); },
                ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                ()=>{
                    Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                ()=>{ SetSoul(0);
                    LerpScreenScale(bpm*4,1,0.09f);
                    SetBox(280,180,120);
                    Heart.GiveForce(0,0);
                    LerpScreenPos(bpm*2,new(0,0),0.09f);
                    ForBeat(2,14,()=>{
                    });
                },
                ()=>{PlaySound(Sounds.pierce); CreateBone(new CustomBone(new(320+170,280),Motions.PositionRoute.linear,0,120){PositionRouteParam=new float[]{ -2.5f,0} }); },
                ()=>{float sin=1;
                    ForBeat(2f,()=>{
                        sin-=1/bpm; InstantSetBox(BoxStates.Centre,BoxStates.Width,120+sin*sin*sin*sin*(-70)+70);
                    });},
                ()=>{PlaySound(Sounds.pierce);},
                ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),150,150); },
                ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*2.5f,bpm*0.25f)); }
            });
            if (InBeat(36 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
             new string[]
            {
                "Soul1","/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+01","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+01","/",   "R","/","+01","/",
                "R","/","/","/",   "R","/","+01","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR08","gb1","/","/","/","/",   "/","/","/","/",
                "WR08","gb2","/","/","/","/",   "/","/","/","/",
                "WR08","gb3","/","/","/","/",   "/","/","/","/",
                "WR08","gb4","/","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","+01","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","+01","/",   "R","/","+01","/",
                "R","/","/","/",   "R","/","+01","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR18","gb1","/","/","/","/",   "/","/","/","/",
                "WR18","gb2","/","/","/","/",   "/","/","/","/",
                "WR18","gb3","/","/","/","/",   "/","/","/","/",
                "WR18","gb4","/","/","Black","/","/",   "/","/","/","/",
                //

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //

                "$0(R1)","/","$0","/",   "G004","/","/","/","/",
                "$0(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "(+2)(+21)","/","/","/",   "R","/","/","/",

                "$2(R1)","/","$2","/",   "G204","/","/","/","/",
                "$2(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "$0(R1)","/","$0","/",   "G004","/","/","/","/",
                "$0(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "(+2)(+21)","/","/","/",   "R","/","/","/",

                "$2(R1)","/","$2","/",   "G204","/","/","/","/",
                "$2(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                 "$0(R1)","/","$0","/",   "G004","/","/","/","/",
                "$0(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "(+2)(+21)","/","/","/",   "R","/","/","/",

                "$2(R1)","/","$2","/",   "G204","/","/","/","/",
                "$2(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "$0(R1)","/","$0","/",   "G004","/","/","/","/",
                "$0(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "(+2)(+21)","/","/","/",   "R","/","/","/",

                "$2(R1)","/","$2","/",   "G204","/","/","/","/",
                "$2(R1)","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "(R)(+21)","/","/","/",
                "$0","/","$0","/",   "$0","/","$0","/",
                //

            },
             new string[] { "Soul1", "gb1", "gb2", "gb3", "gb4", "P1", "P2", "Black", "P3", "Particle" },
             new Action[] {
             ()=>{SetSoul(1);SetBox(new Vector2(320,240),84,84);TP(); LerpScreenScale(bpm*2,1,0.09f); },
             ()=>{
                 SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
             },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(-12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
               },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1f,0.09f);
                 CameraEffect.RotateTo(0,bpm+2);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{ResetBarrage(); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {

                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             });
            if (InBeat(60 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
                    new string[]
                    {
                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)($31)","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)($31)","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)($31)","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "G108","/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "G204","($21)(+01)","/","/","/",   "/","/","/","/",

                        "G1032","/","/","/","/",   "/","/","/","/",
                        "($1)($11)(+01)","/","/","/",   "/","/","/","/",
                        "$11","/","/","/",   "$11","/","/","/",
                        "($21)(+01)","/","/","/",   "($1)","/","/","/",

                        "G3032","($3)($31)","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "Soul2","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                        "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                  "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                   "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",
                "gb1","/","/","/","/",   "/","/","/","/",

                        "gb1","/","/","/","/",   "/","/","/","/",
                        "gb1","/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                   "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "OBone2","/","/","/","/",   "OBone2","/","/","/","/",

                "Fling1","/","/","/","/",  "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "OBone1","/","/","/","/",   "OBone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                //
                "centre","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",
                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",

                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",  "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Back","blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "Black","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Final","R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                        },
                    new string[] { "Bone5", "Soul2", "gb1", "Fling1", "Fling2", "Bone1", "OBone1", "Bone2", "OBone2", "start", "blue", "orange", "centre", "Back", "P1", "P2", "Black", "P3", "Particle", "Final" },
                    new Action[] {
                        ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                        ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120);SetSoul(0);float sin=0;ForBeat(32,()=>{sin+=360/bpm/8;ScreenDrawing.ScreenAngle=Sin(sin)*20f; }); },
                        ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*2.5f,bpm*0.25f)); },
                        ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                        ()=>{Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));

                },
                        ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45){ ColorType=2});PlaySound(Sounds.pierce); },
                        ()=>{
                            ScreenDrawing.ScreenAngle=0;
                            Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f);
                        },
                        ()=>{CreateBone(new DownBone(true,1,144){ ColorType=1}); PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(false,1,144){ ColorType=2}); PlaySound(Sounds.pierce); },
                        ()=>{SetBox(240,150,150);SetSoul(0);CreateBone(new CentreCircleBone(50,1f,130,bpm*32));DelayBeat(2,()=>{for(int a=0;a<18;a++)CreateBone(new SideCircleBone(a*20,1f,20,bpm*30)); }); LerpScreenPos(bpm*2,new(0,0),0.09f);LerpScreenScale(bpm*2,1,0.09f);CameraEffect.Rotate180(bpm*4f); PlaySound(Sounds.pierce); },
                        ()=>{CameraEffect.Rotate180(bpm*4f); },
                        ()=>{Heart.GiveForce(0,0);SetSoul(1); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             ()=>{ScreenDrawing.ScreenAngle=0;Heart.GiveForce(0,0); }
                    });


        }

        public void Extreme()
        {

            if (InBeat(0)) HeartAttribute.JumpTimeLimit = 1;
            // CreateEntity(new UndyneFight_Ex.Fight.TextPrinter(1, "$$Entities:" + "$" + (GetAll<Entity>().Length - 9).ToString(), new(0, 240), new UndyneFight_Ex.Fight.TextAttribute[] { new UndyneFight_Ex.Fight.TextSpeedAttribute(114), new UndyneFight_Ex.Fight.TextSizeAttribute(0.7f), new UndyneFight_Ex.Fight.TextColorAttribute(Color.Cyan) }) { sound = false });
            if (InBeat(0)) SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "move1","$0","$0","$0","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move2","$2","$2","$2","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move1","$0","$0","$0","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "move2","$2","$2","$2","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "move3","WR08","/","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R1","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","WR08","/","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R1","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","WR18","/","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R1","/","R","/",
                "R","/","/","/",   "R","/","/","/",

                "move3","WR18","/","/","/","/",   "/","/","R","/",
                "R","/","/","/",   "R","/","/","/",
                "(R)(R1)","/","/","/",   "R1","/","R","/",
                "!(R)(+0)","!+0","!+0","!+0",   "!+0","!+0","!+0","!+0",
                //


                "move3","R","/","/","/",
                "R","/","R","/",   "!R1","/","/","/",
                "R1","/","/","/",   "R1","/","/","/",
                "R","/","R","/",   "R(R1)","/","/","/",

                "move3","R(R1)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "!R1","/","/","/",
                "R1","/","/","/",   "R1","/","/","/",
                "R","/","R","/",   "R(R1)","/","/","/",

                "move3","R(R1)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "!R1","/","/","/",
                "R1","/","/","/",   "R1","/","/","/",
                "R","/","R","/",   "R(R1)","/","/","/",

                "move3","R(R1)","/","/","/",  "/","/","R","/",
                "R","/","R","/",   "!R1","/","/","/",
                "R1","/","/","/",   "R1","/","/","/",
                "R","/","R","/",   "!(R)(+0)","!+0","!+0","!+0",

                "!+0","!+0","!+0","!+0",  "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                //


                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",

                "/","/","/","/",   "heart1","/","/","/","/",
                "/","/","/","/",   "heart2","/","/","/","/",
                "/","/","/","/",   "heart3","/","/","/","/",
                "/","/","/","/",   "heart4","/","/","/","/",

                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
                "/","/","/","/",   "@(R1)","/","/","/",
            },
            new string[] { "move1", "move2", "move3", "heart1", "heart2", "heart3", "heart4" },
            new Action[] {
                ()=>{ LerpGreenBox(bpm * 4, new(260, 240), 0.085f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{ LerpGreenBox(bpm * 4, new(380, 240), 0.085f); NormalLine line=new(new(640,240),new(BoxStates.Right-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90);},
                ()=>{ LerpGreenBox(bpm * 4, new(320, 240), 0.072f); NormalLine line=new(new(0,240),new(BoxStates.Left-2,240),bpm*5,0,new(195,31,255));CreateTagLine(line,"a");ForBeat(4,()=>{line.x2=BoxStates.Left-2; });LineMoveLibrary.AlphaSin(line,bpm*5,0.5f,0,bpm*4,90); NormalLine line1=new(new(640,240),new(BoxStates.Right-2,240),bpm*16,0,new(195,31,255));CreateTagLine(line1,"a");ForBeat(4,()=>{line1.x2=BoxStates.Right+2; }); LineMoveLibrary.AlphaSin(line1,bpm*5,0.5f,0,bpm*4,90); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(90);LerpScreenScale(bpm,1.2f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(180);LerpScreenScale(bpm,1.5f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(270);LerpScreenScale(bpm,1.8f,0.09f);ScreenPositionDelta=new(Rand(-40,40),Rand(-40,40)); },
                ()=>{SetSoul(1);Heart.InstantSetRotation(0);LerpScreenScale(bpm*2,1,0.09f);ScreenPositionDelta=new(0,0); },
            });
            if (InBeat(20 * 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, 0,
             new string[]
            {
                "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                //


                "Soul1","Bone4","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",    "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone3","/","/","/","/",   "Bone3","/","/","/","/",
                "Bone3","Boxshake" ,"/","/","/","/",   "/","/","/","/",

                "Bone3","/","/","/","/",   "/","/","/","/",
                "Bone4","Boxshake" ,"/","/","/","/",   "/","/","/","/",
                "Bone4","/","/","/","/",   "Bone4","/","/","/","/",
                "Bone4" ,"/","/","/","/",   "/","/","/","/",

                "Soul2","/","/","/","/",   "/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                "Bone5","/","/","/","/",   "/","/","/","/",

            },
            new string[] { "start", "Fling1", "Fling2", "Bone1", "Bone2", "Soul1", "Bone3", "Boxshake", "Bone4", "Bone5", "Soul2", "gb1", },
            new Action[] {
                ()=>{
                    Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f); },
                ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                    SideBone a;
                        CreateBone(a = new DownBone(false, 4, 45));
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            a.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            a.Speed = -3.1f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                ()=>{
                    Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                    SideBone a;
                        CreateBone(a = new UpBone(false, 4, 45));
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            a.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            a.Speed = -3.1f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                ()=>{
                    float sin=0;
                    SetSoul(0);
                    LerpScreenScale(bpm*4,1,0.09f);
                    SetBox(280,180,120);
                    Heart.GiveForce(0,0);
                    LerpScreenPos(bpm*2,new(0,0),0.09f);
                    ForBeat(2,14,()=>{
                        sin+=360/bpm/8; InstantSetBox(new Vector2(320+Sin(sin)*80,BoxStates.Centre.Y),BoxStates.Width,BoxStates.Height);
                    });
                },
                ()=>{PlaySound(Sounds.pierce); CreateBone(new CustomBone(new(320+170,280),Motions.PositionRoute.linear,0,120){PositionRouteParam=new float[]{ -2.5f,0} }); },
                ()=>{float sin=1;
                    ForBeat(2f,()=>{
                        sin-=1/bpm; InstantSetBox(BoxStates.Centre,BoxStates.Width,120+sin*sin*sin*sin*(-70)+70);
                    });},
                ()=>{PlaySound(Sounds.pierce);},
                ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120); },
                ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*2,bpm*0.25f)); }
            });
            if (InBeat(36 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
             new string[]
            {
                "Soul1","/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","R1","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R1","/","R","/",   "R1","/","R1","/",
                "R","/","/","/",   "R","/","R1","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR08","gb1","/","/","/","/",   "/","/","/","/",
                "WR18","gb2","/","/","/","/",   "/","/","/","/",
                "WR08","gb3","/","/","/","/",   "/","/","/","/",
                "WR18","gb4","/","/","/","/",   "/","/","/","/",

                "R1","/","/","/","/",   "R","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","/","/",
                "+1","/","/","/",   "+1","/","R1","/",

                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R1","/","R","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","R1","/",

                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","R1","/",
                "R","/","/","/",   "R","/","/","/",

                "WR032","gb1","/","/","/","/",   "/","/","/","/",
                "WR18","gb2","/","/","/","/",   "/","/","/","/",
                "WR18","gb3","/","/","/","/",   "/","/","/","/",
                "WR18","gb4","/","/","Black","/","/",   "/","/","/","/",
                //

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                //

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R(R1)","/","/","/",   "R","/","/","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R(R1)","/","/","/",   "R","/","/","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                 "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R(R1)","/","/","/",   "R","/","/","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R","/","R","/",   "R","/","R","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "R(R1)","/","/","/",   "R","/","/","/",

                "R(R1)","/","R","/",   "WR04","/","/","/","/",
                "R(R1)","/","/","/",   "/","/","R","/",
                "R1","/","/","/",   "R(R1)","/","/","/",
                "$0","/","$0","/",   "$0","/","$0","/",
                //

            },
             new string[] { "Soul1", "gb1", "gb2", "gb3", "gb4", "P1", "P2", "Black", "P3", "Particle" },
             new Action[] {
             ()=>{SetSoul(1);SetBox(new Vector2(320,240),84,84);TP(); LerpScreenScale(bpm*2,1,0.09f); },
             ()=>{
                 SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
             },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(-12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));
               },
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1.1f,0.09f);
                 CameraEffect.RotateTo(12,bpm-1);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{SetSoul(1);
                 LerpScreenScale(bpm,1f,0.09f);
                 CameraEffect.RotateTo(0,bpm+2);
                 NormalLine a=new(new(320-42,240-42),new(0,0),bpm*1,0,new(195,31,255));
                 NormalLine b=new(new(320+42,240-42),new(640,0),bpm*1,0,new(195,31,255));
                 NormalLine c=new(new(0,480),new(320-42,240+42),bpm*1,0,new(195,31,255));
                 NormalLine d=new(new(320+42,240+42),new(640,480),bpm*1,0,new(195,31,255));
                 CreateEntity(a);
                 CreateEntity(b);
                 CreateEntity(c);
                 CreateEntity(d);
                 float sin = 0;
               AddInstance(new TimeRangedEvent(bpm*2, () =>
               {
                   a.alpha = Sin(sin) * 1;
                   b.alpha = Sin(sin) * 1;
                   c.alpha = Sin(sin) * 1;
                   d.alpha = Sin(sin) * 1;
                   sin += 360 / (bpm*2);
               }));},
             ()=>{ResetBarrage(); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {

                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             });
            if (InBeat(60 * 4 - 4))
                SpecialRhythmCreate(BeatTime(0.125f), 6.4f, BeatTime(4f),
                    new string[]
                    {
                        "G008","/","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1($2)","/","/","/",
                        "G204","($2)(R1)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)R1","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1($2)","/","/","/",
                        "G204","($2)(R1)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)R1","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1($2)","/","/","/",
                        "G204","($2)(R1)(+01)","/","/","/",   "($3)","/","/","/",

                        "G3032","($3)R1","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G008","R1","/","/","/",   "/","/","/","/",
                        "($1)(R1)(+01)","/","/","/",   "G108","/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "G204","(R1)(+01)","/","/","/",   "/","/","/","/",

                        "G0032","R1","/","/","/",   "/","/","/","/",
                        "($0)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1($0)","/","/","/",
                        "($0)(R1)(+01)","/","/","/",   "($0)","/","/","/",

                        "G3032","($3)R1","/","/","/",   "/","/","/","/",
                        "($3)(R1)(+01)","/","/","/",   "/","/","/","/",
                        "R1","/","/","/",   "R1","/","/","/",
                        "(R1)(+01)","/","/","/",   "/","/","/","/",
                        //

                        "Soul2","/","/","/","/",   "/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",

                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "Bone5","/","/","/","/",   "gb1","/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        "/","/","/","/",   "/","/","/","/",
                        //

                        "start","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",

                "Fling1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",
                "Bone1","/","/","/","/",   "Bone1","/","/","/","/",

                "Fling2","/","/","/","/",   "Bone2","/","/","/","/",
                "Bone2","/","/","/","/",   "Bone2","/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                //
                "centre","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "blue","/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "orange","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",
                "orange","/","/","/","/",  "/","/","orange","/","/",
                "/","/","/","/",   "orange","/","/","/","/",

                "blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",  "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Back","blue","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "Black","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Particle","P1","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "P2","/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "/","/","/","/",   "Black","/","/","/","/",
                "/","/","/","/",   "P3","/","/","/","/",
                "/","/","/","/",    "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",

                "Final","R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "/","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "R","/","/","/",
                "R","/","/","/",   "R","/","/","/",

                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                "R","/","/","/",   "/","/","/","/",
                        },
                    new string[] { "Bone5", "Soul2", "gb1", "Fling1", "Fling2", "Bone1", "Bone2", "start", "blue", "orange", "centre", "Back", "P1", "P2", "Black", "P3", "Particle", "Final" },
                    new Action[] {
                        ()=>{PlaySound(Sounds.pierce); CreateBone(new LeftBone(true, 2.5f, 114) { ColorType = 2 }); },
                        ()=>{LerpScreenScale(bpm*2,1.2f,0.08f); SetBox(new Vector2(320,240),120,120);SetSoul(0);float sin=0;ForBeat(32,()=>{sin+=360/bpm/8;ScreenDrawing.ScreenAngle=Sin(sin)*20f; }); },
                        ()=>{ CreateGB(new NormalGB(Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),Heart.Centre+GetVector2(Rand(0,160),Rand(0,359)),new(0.8f,0.8f),bpm*2,bpm*0.25f)); },
                        ()=>{
                    Heart.GiveForce(0,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new UpBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                    SideBone a;
                        CreateBone(a = new DownBone(false, 4, 45));
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            a.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            a.Speed = -3.1f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                        ()=>{Heart.GiveForce(180,4);
                    SideBone b;
                        PlaySound(Sounds.spearAppear);
                        CreateBone(b = new DownBone(false, 4, 45){ ColorType=1});
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            b.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            b.Speed = 5f;
                            PlaySound(Sounds.pierce);
                        }));
                    SideBone a;
                        CreateBone(a = new UpBone(false, 4, 45));
                        AddInstance(new TimeRangedEvent(0, BeatTime(2), () =>
                        {
                            a.Speed *= 0.81f;
                        }));
                        AddInstance(new InstantEvent(BeatTime(2), () =>
                        {
                            a.Speed = -3.1f;
                            PlaySound(Sounds.pierce);
                        }));
                },
                        ()=>{CreateBone(new DownBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new UpBone(true,3.1f,45));PlaySound(Sounds.pierce); },
                        ()=>{
                            ScreenDrawing.ScreenAngle=0;
                            Heart.GiveForce(0,4);
                    SetSoul(2);
                    SetBox(280,200,100);
                    LerpScreenScale(bpm*2,1.3f,0.09f);
                    LerpScreenPos(bpm*2,new(0,-40),0.09f);
                        },
                        ()=>{CreateBone(new DownBone(true,1,144){ ColorType=1}); PlaySound(Sounds.pierce); },
                        ()=>{CreateBone(new DownBone(false,1,144){ ColorType=2}); PlaySound(Sounds.pierce); },
                        ()=>{SetBox(240,150,150);SetSoul(0);CreateBone(new CentreCircleBone(50,1f,130,bpm*32));DelayBeat(2,()=>{for(int a=0;a<18;a++)CreateBone(new SideCircleBone(a*20,1f,20,bpm*30)); }); LerpScreenPos(bpm*2,new(0,0),0.09f);LerpScreenScale(bpm*2,1,0.09f);CameraEffect.Rotate180(bpm*4f); PlaySound(Sounds.pierce); },
                        ()=>{CameraEffect.Rotate180(bpm*4f); },
                        ()=>{Heart.GiveForce(0,0);SetSoul(1); float sin=0;LerpScreenScale(bpm*4,1.4f,0.075f); InstantSetBox(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(-50,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(16,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X+1.5f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{float sin=0;InstantSetBox(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(690,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); ForBeat(13,()=>{sin+=360/bpm/4;  InstantSetBox(new Vector2(BoxStates.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f),84,84);InstantTP(new Vector2(Heart.Centre.X-2f,240+Sin(sin)*40+Sin(sin*0.5f)*20f)); }); },
             ()=>{ BlackScreen(bpm,bpm-2,bpm+2); },
             ()=>{LerpScreenScale(bpm*4,1f,0.075f);InstantSetBox(new Vector2(320,240),84,84);InstantTP(320,240); },
             ()=>{
                 float sin=270;
                 BoundColor=Color.White;

                 ForBeat(32,()=>{
                     sin+=360/bpm/8;
                     DownBoundDistance=62+Sin(sin)*60;
                     UpBoundDistance=62+Sin(sin)*60;
                     if(AtKthBeat(0.1f,0))
                         {
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),Rand(7,9)),Rand(14,19),new(Rand(0,640),0),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ;
                 CreateEntity(new Particle(new(195,31,255),new(Rand(-0.10f,0.10f),-Rand(7,9)),Rand(14,19),new(Rand(0,640),480),Sprites.square){ AutoRotate=true,Rotation=Rand(0,359),SlowLerp=0.015f,DarkingSpeed=Rand(3.2f,4.1f)}) ; } });
                 DelayBeat(32f,()=>{ DownBoundDistance=0;
                     UpBoundDistance=0; });
             },
             ()=>{ScreenDrawing.ScreenAngle=0;Heart.GiveForce(0,0); }
                    });

        }
    }
}
